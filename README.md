# StillStanding-v2-server

## 我是服务端开发者

### 开发准备

1. gradle

你的IDE应该支持将本项目源代码作为gradle项目导入。导入后执行refesh gradle project下载依赖。

2. SpringBoot

本项目基于SpringBoot。你应该了解SpringBoot中的基本概念。

3. git

除了clone以外，还需熟悉新建分支，分支合并等操作。

4. HTTP调试工具

例如postman。

### 试一试

1. 使用GUI

作为SpringBootApplication启动后，会创建GUI窗体。在下方输入框中输入指令。见GUI指令表。

2. 使用单元测试

### 规则介绍

1. 题目与题库题库

每一个题目有若干tag。

将所有题目混合乱序。

1. pick&ban

每个队伍有若干pick的tag，和若干ban的tag。

每次取题时，判定是否**触发pick**成功。若成功，则执行**取pick题**；否则，执行**取非ban题**。

**触发pick**规则：成功概率为p。若成功，p重置为p0；否则，p增加△p。

**取pick题**规则：从题库顶端每次取一题进行判断。若*存在一个*该题tags在队伍pickTags中，且*任意*该题tags不在队伍banTags中，则采用该题；否则，将本题放到题库底，继续取下一题判断。

**取非ban题**规则：从题库顶端每次取一题进行判断。若*任意*该题tags不在队伍banTags中，则采用该题；否则，将本题放到题库底，继续取下一题判断。


### 我要编辑业务规则

#### 编辑技能

#### 编辑pick&ban规则

可以编辑的范围：
p0, △p

##### 可以编辑的范围




#### 编辑比赛类型

可以编辑的范围：

- 加分操作： 答对一题时如何加分。e.g.固定加分；连续答对comb加分...
- 换题操作： 换题时做什么。e.g.倒计时重置为某个值...
- 换队操作： 换队时做什么。e.g.按顺序换到下一个队伍；随机换一个队伍...
- 换队判定： 何时换队。e.g.答完一题切换；答错才切换...
- 队伍死亡判定： 何时队伍死亡。e.g.累计答n题死亡；连续答错n题死亡；累计答错n题死亡...
- 结束判定： 何时比赛结束。e.g.所有队伍死亡；任一队伍死亡...

#### GUI指令表

- [var_name] 表示需要代入变量var_name的具体值
- full_name(short_name) 表示这个位置的指令关键词，可以输入全称full_name，也可以输入简称short_name

1. 客户端指令：仅影响客户端（GUI本身），多用于非业务需求。

- the world: 翻转GUI倒计时的暂停状态/继续状态。

2. 服务端指令：

- answer(ans) [option]: 玩家选择问题选项。[option]取值范围为{A, B, C, D}。  
  例：ans A

